## GraphDB With Langchain
1. Knowledge Graphs: This entire graph databases works on this fundamental concept which is called as knowledge graphs.
2. Neo4j Graph Databases: How to insert a data ?? How the data is created into nodes, relationships, properties, entities all this we will keep discussing. Like if we work in MySql we have MySql queries, similarily we have Cypher Query when we are working in graph databases.
3. RAG/Gen AI applications we will build with the help of Graph Databases --> In this case our Graph database will be 'Neo4j'.

- The above will be the fundamental base.

- Langchain has come up with Amazing Module which is called as LangGraph, and with the help of LangGraph u will be able to create some amazing multi ai agents which will be able to perform some amazing tasks.
- This multi ai agent also uses the concept of this knowledge graph.

## 1. Knowledge Graph
## What is Knowledge Graph ??
- We can consider knowledge graph as a semantic network. It is also known as Semantic Network, and this network represents a network of real world entities. It is a network of real world entities.
- Eg. Events, Situations, Concepts --> illustrate the relationship between them.
- Whenever we talk w.r.t NLP usecases lets say i have a sentence like: Rohit Sharma is the Captain of Indian Cricket Team.
- Now here u can see when we consider this entire sentence here u can see we have some important entities also, like here we are talking abt rohit sharma who is a person, captain another important keyword, then we have indian cricket team.
- Indian Cricket Team is a seperate entity, Rohit Sharma is a seperate entity and there is a kind of relationship between rohit sharma and indian cricket team and it is w.r.t the captain.
- To make this understand to a machine it is actually better that we represent this data in a different way, that specific way is nothing but a knowledge graph.

- A knowledge graph it is made up of 3 main components:
- 1. Nodes --> Any object or any place or a person can be a node or any noun can be a node
- 2. Edges --> An edge defines the relationship between the nodes. Eg. Rohit Sharma is the Captain of Indian Cricket Team.
- Node(Rohit Sharma)------Captain----->Node(Indian Cricket Team)   Rohit sharma is somewhere related to this indian cricket team --> This is where our 3rd component comes in i.e. label ---> In order to specify what kind of relationship is there w.r.t this particular node is where we are going to use label, and here the label will be something called as captain.
- 3. Labels

- So this is how the entire sentence is basically represented.

- Why do u want to represent data specifically in the form of these nodes, edges and labels ??
- Eg. I may have some text: Virat Kohli is the player of Indian Cricket Team.
- Node(Virat Kohli)----Player---->Node(Indian Cricket Team).
- Virat Kohli is basically related to the indian cricket team by the label 'player'.
- Now finally u can see that if rohit sharma is the captain of indian cricket team and virat kohli is the player of indian cricket team. So w.r.t this specific relationship there can be some relationship b/w rohit sharma and virat kohli. We can derive that right.
- This is what this entire knowledge graph does.
- There may be more nodes like this and there can exist multiple relationships between these nodes.
- Based on this knowledge graph we can derive many many things.

- Even in google search engine if i m searching for Virat Kohli then after searching i may get some suggestions w.r.t other players like rohit sharma.
- This google search engine derives information related to virat kohli because this entire knowledge of graph is connected to each other via nodes w.r.t relationships.
- Google search engine is the best example of specifically using this knowledge graph.

- In Neo4j there are nodes, relationships and property keys

## Neo4j Account Creation
- Here we will be using Neo4j aura db.
- Search for neo4j auradb --> U will be able to create ur own database in the cloud platform.
- Best thing about neo4j auradb is that u will be able to run one single instance through which u will be able to develop multiple projects as such.
- After searching for Neo4j aura db click on the first link.
- It's the world's leading graph database as a fully-managed cloud service -- zero admin, globally available and always-on.
- There u click on start free ---> It will ask to continue with google. --> After this i will be going inside my Neo4j database itself, specifically in ur cloud console.
- Then in Terms of Service and Privacy Policy click on 'Agree'.
- After this there are 3 plans: Click on Try for Free plan.
- After this for ur instance there(automatically): Instance01 credentials will be created which will have the username(autogenerated): neo4j and along with this we will have our 'Generated Password' there, so then click on "Download and Continue".
- Things which we are downloading are abt the instance: NEO4J_URI, NEO4J_USERNAME, NEO4J_PASSWORD, AURA_INSTANCEID, AURA_INSTANCENAME(Instance01)--> automatically generated.
- This will be important when u start to do coding along with langchain. --> There we will be requiring all these details.
- Instance creation might take a couple of minutes.
- After a few minutes ur free tier instance will get created, this instance will keep a track of the number of nodes and relationships u are going to create.
- U can connect to this particular instance which u have created just now, by providing the credentials which u have downloaded just now.
- After connecting to the instance go to the query. This is where we can create nodes and relationships.
- U can probably write ur query over here and then based on this particular query we can go ahead and create our nodes we can create our relationships, also u can go ahead and create ur property keys.

## Differences Between RDBMS and Graph Databases
- RDBMS --> It is our relational database management system. Eg. MySQL, SQL Server
- Comparing Differences:
- In RDBMS we create tables, in graph databases instead of creating tables we are creating something called as graphs.
- Inside this table we insert records and this records will be something called as rows. In graph databases we use something called as nodes it can be an entity, name something like that.
- In every row there will be columns and w.r.t this columns there will be data also, some data will definitely be there. We have columns in RDBMS and so in Graph Databases we have properties and its values.
- Constraints --> Primary Key, Foreign Key, Candidate Key and the reason for making such keys is that we have dependency of another table in current specific table itself. This is there in RDBMS. Similarily if we want to create constraints in Graph Databases so there we have Relationships. Eg. We have two nodes and one is related to other. For eg. We have a company tesla which is owned by Elon Musk. Here 'tesla' and 'Elon Musk' are the two entities and the relation between the two is 'owned'.
- In tables in most of the query we write a lot of Join Queries itself. Instead of writing join queries in graph databases we specifically use something called as traversal. Traversal basically means based on the properties, based on the nodes, based on the relationship we travel from one node to the other node to finally get a result.

## Advantages of Neo4j
- Entire this Neo4j database works w.r.t the graph data model. This Graph Data Model will be responsible in creating these nodes, relationships, properties and values and many more things.
- When we use this Neo4j in the cloud it provides us real time insights, as soon as i create a graph in that particular instance which u have created ur nodes are getting maintained in a seperate way, properties are getting maintained in a seperate way, relationships are getting maintained in a seperate way.
- U will be able to retrieve data very easily just by writing query --> Here we have easy retrieval. We will be using Cypher Query like how we had SQL query. Sometimes u don't even have to write this cypher query, just by clicking on any of the relationships and all automatically u will be getting a basic template of all the queries itself. That is all possible bcoz of this Neo4j database itself.
- Cypher Query Language: It is a declarative query language to represent the graph visually. Understandable in a very easy way bcoz it is human readable.
- In RDBMS if u have nested queries we really have to use a lot of joins, but in neo4j u don't have to use any join --> this makes cypher query language amazing for retrieving different different kinds of data itself.
- Neo4j completely supports acid properties. In RDBMS we have ACID properties ---> Atomicity, Consistency, Isolation and Durability. These ACID properties are one of the core features of RDBMS. This is also supported in Neo4j. Once u starts using it there is no such kind of fixed schema. A very good advantage w.r.t Neo4j is that we don't have any fixed schema, it is having a flexible schema. It's not that one node has 3 properties and the other node also has 3 properties. It can have any number of properties.

## Neo4j Property Graph Data Model
- Neo4j graph database uses something called as "Property Graph Model" and this model is specifically used to store and manage data.
- Property Graph Model:
- This model represents three main important things: 1.Nodes 2.Relationships 3.Properties
- This property graph model represents the entire data u have here in this specific 3 important things i.e. nodes, relationships and properties.
- Properties are just like rows and records so this will specifically be having key value pairs. When we talk about this relationships, this is both uni-directional and bi-directional.
- So whenever we create any kind of relationship we can actually create it in the form of uni-directional and u can also create it in the form of bi-directional and every relationship like suppose we have Node1() and Node2(). So w.r.t this Node1() and Node2() whenever we create any relationship for eg. Node1()------Parent-----> Node2() now in this relationship this Node 1 is just like ur start node and this Node 2 is nothing but it is my 'To' node or better we can say 'END' node. Start Node can also be called as From Node(Node 1).
- Graph DB Data Model: Here there are 3 important blocks.
- 1.Nodes 2.Relationships 3.Properties
- Node1(Tony Stark)---------Actor------->Node2(Avengers) similarily Node1(Tony Stark)------Villian----->Node3(Some other movie).
- Tony Stark is Node, the arrow from 'Tony Stark' to 'Avengers' is showing relationship, and 'Actor' is basically a kind of property(we can define this property in the form of key-value pair also).
- Relationships can be both uni-directional and bi-directional also.
- Just imagine if we have entire NLP text data and this internally uses something called as 'Graph Neural Network', with the help of this Graph Neural Network we will be able to create this graph containing nodes, edges, properties and relationships.
- From where we will be getting this Graph Neural Network ??
- For this we will be using LangChain. ----> LangChain has good graph db functionalities which will be able to take this particular text data and we will be able to convert this entire text data into this particular nodes.
- For that we need to write cypher query but, if u just directly want to convert it with the help of model we can use a graph neural network.
- Graph Neural Network Functionalities we can train it from scratch.
- LangChain --> Has features to convert this entire data, insert into the Graph DB database itself.

- Open ur Neo4j Aura Db, go inside this particular instance. U will be able to see a textbox and this is where u write ur own query.
- Before writing ur own query u should connect to the instance(which u have created).

## Queries
- CREATE(node1)  ---> It is just going to create my first node.
- On the same page in the left side u will have nodes where u will be able to see the nodes, click on it and u will be able to see the node(In visualization/graphical) format. U will be able to see the node which u have created.
- In that graph visualization when u click on Node 1 u will see some id value over there
- Nodes are basically entities, names and obviously over here i did not provide any kind of info over here when i probably created this particular node bcoz i need to provide some kind of labels.
- Give i create a node and then give it a name then this particular node name will be that name.
- U can create multiple nodes also.

- CREATE(Elon:CEO)   ---> Once u execute this u will be able to see one of the node which is CEO.
- My node is Elon but over here i have tried to assign some kind of label value which is called as CEO.

- CREATE(Elon:CEO:employee)   -----> Here CEO is the label over here, and here i m trying to add some more labels. Like employee is also one of the labels which i m trying to create.
- If i execute this my one more node will be created which is nothing but employee.
- We can create multiple labels just w.r.t one node.

- I can create different different nodes with lot of different informations.

- Create(Elon:CEO{name:"Elon Musk", YOB:1979, POB:"SA"}) -----> w.r.t CEO i can write some more information, this name which we have assigned here is something called as properties. Here i m trying to create a node with label name as 'CEO' and name as property. Other properties include: YOB, POB. These are my property keys. Like key-value pairs. These are my properties for this particular label which is 'CEO'.
- Once u execute this in the next node created we will have this property keys: name, YOB, POB.
- Here we have created property keys.

- To get all the information out there i will write:
- MATCH(n) return n -----> If i go and execute this i will be able to see all my nodes which i have created over here.
- There among all the nodes if i go and click on 'Elon Musk' i will be able to see that Elon musk is one of the name over here and along with this u are being able to see all these values like: POB="SA" and YOB=1979. And the node details is CEO
- Here u will be able to see that based on the value in the name property the name of the node is assigned: 'Elon Musk'.
- Let's say if u have just provided label instead of name property then initially the label name will go over here. But if u have provided some property key-value pairs where u have name information that it has replaced over here. It will be using that as name of the node.

## Trying to Create Relationships
- Now u know that Elon Musk is the CEO of tesla. First u have to create two entities:
- I have already created Elon Musk entity and now i will write tesla comapny details
- CREATE(Tesla:Company{name:"Tesla"}) ----> Company will be the label so here we give some info in the form of key-value pair.
- Tesla is the name of the company which we have provided in name property and Company is the label.
- Once u execute this u will be able to get the company in the graphs.

- Now i want to create a relationship between Elon Musk and Tesla.
- On the left side u will have 'Property Keys' under which u will have name, click on that, u will see two names: Elon Musk and Tesla.
- In the above queries u can see that we have created the nodes: Elon and Tesla. Elon has the label 'CEO' and Tesla has the label 'Company'.
- CREATE(Elon)-[r:CEO]->(Tesla) ----> In order to put a relationship i have to put a '-', then i will use a r: parameter, here we are connecting the two nodes 'Elon' and 'Tesla'
- As u execute this it will show u that u created one relationship, now here in r: parameter we gave 'CEO' so CEO is one of the relationship.
- I used the node 'Elon' with the node 'Tesla' --> both are created above.
- Here it will create these two('Elon' and 'Tesla') as the new nodes again. It won't be using the older nodes(which we have created above before) itself.

## Creating it from Scratch
- CREATE(Shubham:Entrepreneur{name:"Shubham", YOB:2004, POB:"India"}) ---> Another node Shubham created where 'Entrepreneur' is the label. Just after writing this press shift+enter(for next line in the same tab) and create another node.
- CREATE(Ind:Country{name:"India"})
- Here in relationship i just want to specify that i live in india.
- Shubham is basically my node and is given by the label which is 'Entrepreneur' and further property details.
- Execute this now.
- Two nodes will be created with names: "Shubham" and "India" as it is given in property details.
- Click on the node in the graph visual plot to get all the property details info of that node.
- Creating a relationship:
- MATCH (p:Entrepreneur{name:"Shubham"}), (c:Country{name:"India"})
- CREATE (p)-[:LIVES_IN]->(c)
- Relationship 'LIVES_IN' will be created between these two nodes within these commands.
- After this u will be able to see the relationship LIVES_IN between these two nodes.
- When u click on the node with name:'Shubham' which we have created and then u double-click on that same node we will be able to see the relationship this node has.
- It will show us the 'LIVES_IN' relationship, the node shubham has with the country india.
- By clicking on the node u will be able to see there entire properties and values.

- Whenever we are working with huge amount of databases, w.r.t tables also we have different different informations let's say if i want to specify person name, i should have the similiar kinds of labels used everywhere.
- Another Example:
- CREATE(p:Person{name:'Tom Hanks', born:1956}) ----> Here Person is the label name. Here i have actually created a person, a node p with a lable name 'Person' and the name information is 'Tom Hanks' and the person is born in '1956'.
- Use shift+enter and on the same tab we will create another node.
- CREATE(m:Movie{title:'Forest Gump', released:1994})
- Above we have used p as our node bcoz whenever we create a new person over there so properties will only change, the name will change as its a property.
- Similarily when i add a movie, movie name will be changing, i.e. its property 'title' will be changing.
- Creating a relationship between the movie and the person, the person has acted in the movie.
- MATCH(p:Person{name:'Tom Hanks'}), (m:Movie{title:'Forest Gump'})
- CREATE(p)-[:ACTED_IN]->(m)
- Now when u double-click on the 'Forest Gump' node in the graph it will show u the relationship which u have created above.
- In order to create the relationship between these two nodes we have to use the same property value which we have assigned earlier. i.e. 'Tom Hanks' and 'Forest Gump'
- To retrieve nodes and relationships:
- MATCH (p:Person {name:'Tom Hanks'}) RETURN p ----> I should be able to get the node with name tom hanks
- MATCH (p:Person)-[:ACTED_IN]->(m:Movie) RETURN p, m ----> Here i will be able to get both the nodes: But i m not being able to see the relationships.
- To see the relationship the query is:
- MATCH p=()-[:ACTED_IN]->() RETURN p LIMIT 25 -----> After executing this u will be able to see the relationship between the two nodes.
- Creating another person:
- CREATE(p:Person{name:'Shubham', born:2004}) ---> Created another person
- Now there when u click on the 'Person' label under nodes, u will be able to see the two persons which u have: 'Tom Hanks' and 'Shubham'.
- Creating relationship between the movie forest gump and shubham.
- MATCH (p:Person {name:'Shubham'}), (m:Movie {title:'Forest Gump'})
- CREATE (p)-[:ACTED_IN]->(m)
- After this to check click on the label 'Person' under nodes, there u will get two persons which u have created: Tom Hanks and Shubham.
- Double click on shubham u will be able to see the relationship it has there.
- When u double click on both the nodes over there i.e. 'Tom Hanks' and 'Shubham' u will be able to see both the nodes have the relation 'ACTED_IN' with the movie title 'Forest Gump'.

- Updating a Node: For eg. 'Tom Hanks' born in 1956 we have to update the DOB to 1957 how to do it ??
- MATCH(p:Person{name:'Tom Hanks'}) SET p.born=1957 return p ----> We are matching to the person with the name: 'Tom Hanks' and then we are using the SET keyword to change the value of the property born to 1957.
- Now when u go to person under nodes and there u click on 'Tom Hanks' u will see the value of the property born changed to 1957.
